<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.erp.dao.ProductionMapper">
	<insert id="productionInsert" parameterType="com.project.erp.vo.ProductVO">
	insert into PRODUCT
	(
		pd_code,
		pd_name,
		pd_rmcost,
		pd_manufcost,
		pd_sort
	)
	values
	(
		'p' || TO_CHAR(pd_code.nextval),
		#{pd_name},
		#{pd_rmcost},
		#{pd_manufcost},
		#{pd_sort}
	)
	</insert>
	<select id="produceSelect" resultType="com.project.erp.vo.ManufactureVO" parameterType="com.project.erp.vo.ManufactureVO">
		SELECT
	 		mfseq
			,pd_code 
 			,TO_CHAR(manuf_startdate, 'YYYY-MM-DD') AS manuf_startdate 
 			,TO_CHAR(manuf_enddate, 'YYYY-MM-DD') AS manuf_enddate
			,manuf_status 
			,warehouse_code 
		 	,manuf_amount
			,sales_ordernum 
			,manuf_requserid 
			,manuf_reqdate 
			,'A' as salesdetailseq 
	 	FROM
		manufacture
<!--	WHERE
 		pd_code=#{pd_code}
 -->	</select>
</mapper>
