<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.erp.dao.MemberMapper">

		<insert id="insertMember" parameterType="com.project.erp.vo.MemberVO">
		INSERT INTO erp_member(
		userid
		,userpw
		,userstatus
		,userdepartment
		,userstate
		,name
		,phonenumber
		,email
		,address
		,loginstate

		)
		VALUES(
					#{userid}
					, #{userpw}
					, #{userstatus}
					, #{userdepartment}
					, 'notallowed'
					, #{name}
					, #{phonenumber}
					, #{email}
					, #{address}
					, 'out'
		)
	</insert>
	
 

	<select id="selectMemberById" parameterType="com.project.erp.vo.MemberVO" resultType="com.project.erp.vo.MemberVO">
		SELECT  userid
				, userpw
 				, userstate
		FROM erp_member
		WHERE userid=#{userid}
	</select>
 <update id="updateLogin" parameterType="com.project.erp.vo.MemberVO">
	
		UPDATE erp_member set
			loginstate='in'
 		WHERE
			userid=#{userid}
	
	</update>
 <update id="updateLogout" parameterType="com.project.erp.vo.MemberVO">
	
		UPDATE erp_member set
			loginstate='out'
 		WHERE
			userid=#{userid}
	
	</update>
</mapper>
